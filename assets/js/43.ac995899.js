(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{464:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("Boxx"),s._v(" "),t("h1",{attrs:{id:"linux防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux防火墙"}},[s._v("#")]),s._v(" linux防火墙")]),s._v(" "),t("h2",{attrs:{id:"_1-防火墙概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-防火墙概述"}},[s._v("#")]),s._v(" 1-防火墙概述")]),s._v(" "),t("p",[t("strong",[s._v("基本解释")])]),s._v(" "),t("ol",[t("li",[s._v("防（防止）火（网上的黑客侵入）的 墙（阻挡的东西）")])]),s._v(" "),t("p",[t("strong",[s._v("作用")])]),s._v(" "),t("ol",[t("li",[s._v("会根据防火墙的 规则 可以限制 某些流量的进入 和流出")]),s._v(" "),t("li",[s._v("防火墙  有 硬件防火墙  软件防火墙")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/1714121261766.png",alt:"1714121261766"}})]),s._v(" "),t("p",[t("strong",[s._v("硬件防火墙")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 理解为也是一个电脑主机 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 防火墙一般自带  可视化面板的防火规则")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置那些流量可是流出 那些不可以")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("windows 防火墙")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/1714121539578.png",alt:"1714121539578"}})]),s._v(" "),t("ol",[t("li",[s._v("案例  使用 iis部署的 魔兽世界游戏 一开始其他人无法访问的")]),s._v(" "),t("li",[s._v("关闭防火墙之后可以了")])]),s._v(" "),t("h2",{attrs:{id:"_2-linux部署服务防火墙了解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-linux部署服务防火墙了解"}},[s._v("#")]),s._v(" 2-Linux部署服务防火墙了解")]),s._v(" "),t("p",[t("strong",[s._v("案例 ：在虚拟机的linux 里面跑一个前端网页服务")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1. 需要安装 httpd 这个服务软件(阿帕奇)  在执行安装的时候 卡住 ？ y n 输入 y 回车")]),s._v("\n\tyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" httpd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.\t安装完毕之后这个服务是默认关闭的 需要启动这个服务")]),s._v("\n\tsystemctl start httpd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.httpd 这个服务是一个前端网页服务 默认他是运行在 80端口")]),s._v("\n    访问你的虚拟机地址就可以访问80端口的前端服务\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4.访问 在浏览器就可以 192.168.146.135 无法访问 ")]),s._v("\n\t无法访问的原因是 linux虚拟机 的防火墙指定的规则 是不允许外机访问 httpd服务的\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5.可以关闭防火墙 解决不能访问的问题")]),s._v("\n   systemctl stop firewalld\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6.在 浏览器再次输入 ip地址就可以了")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("strong",[s._v("部署自定义前端项目")])]),s._v(" "),t("ol",[t("li",[s._v("使用的是 关闭防火墙")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.把 前端打包后的项目 放入 httpd 的相关的 文件夹中 及可以访问你的 前端项目")]),s._v("\n方式1：需要把index.html 上传到 /var/www/html 文件夹下\n方式2：如果上传魔兽世界那个 就需要 替换掉 /var/www/的html 这个文件夹\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_3-linux防火墙两种模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-linux防火墙两种模式"}},[s._v("#")]),s._v(" 3-linux防火墙两种模式")]),s._v(" "),t("p",[t("strong",[s._v("防火墙模式两种")])]),s._v(" "),t("ul",[t("li",[s._v("运行模式（临时模式） ：就是用户修改了关于防火墙的相关规则配置会 立刻生效 但是不长久保存")]),s._v(" "),t("li",[s._v("永久模式：就是用户修改了防火墙的相关规则配置 不会立刻生效 需要 使用防火墙的 热重载重新加载配置规则 然后才生效  但是这个生效是永久的")])]),s._v(" "),t("h2",{attrs:{id:"_4-linux防火墙基本操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-linux防火墙基本操作"}},[s._v("#")]),s._v(" 4-linux防火墙基本操作")]),s._v(" "),t("p",[t("strong",[s._v("基本语法")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("命令")]),s._v(" "),t("th",[s._v("意思")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("systemctl  start   firewalld")]),s._v(" "),t("td",[s._v("启动防火墙")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  stop  firewalld")]),s._v(" "),t("td",[s._v("关闭防火墙")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  restart  firewalld")]),s._v(" "),t("td",[s._v("重启防火墙")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  status   firewalld")]),s._v(" "),t("td",[s._v("查看防火墙的状态")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  reload  firewalld")]),s._v(" "),t("td",[s._v("热重载防火墙（不关闭防火墙自动加载规则配置）")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  enable  firewalld")]),s._v(" "),t("td",[s._v("设置防火墙为开机启动模式")])]),s._v(" "),t("tr",[t("td",[s._v("systemctl  disable  firewalld")]),s._v(" "),t("td",[s._v("设置防火墙为开机不启动模式")])])])]),s._v(" "),t("h2",{attrs:{id:"_5-linux规则命令-与-区域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-linux规则命令-与-区域"}},[s._v("#")]),s._v(" 5-linux规则命令 与 区域")]),s._v(" "),t("p",[t("strong",[s._v("规则相关命令")])]),s._v(" "),t("p",[t("strong",[s._v("注意")]),s._v("：防火墙的指令 统一  以  "),t("strong",[s._v("firewall-cmd")]),s._v(" 开头")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("firewall-cmd 后面的命令配置")]),s._v(" "),t("th",[s._v("意思")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("--get-default-zone")]),s._v(" "),t("td",[s._v("获取当前正在使用的"),t("strong",[s._v("区域")])])]),s._v(" "),t("tr",[t("td",[s._v("--get-zones")]),s._v(" "),t("td",[s._v("获取所有可以用的"),t("strong",[s._v("区域")])])]),s._v(" "),t("tr",[t("td",[s._v("--list-all")]),s._v(" "),t("td",[s._v("获取正在使用的"),t("strong",[s._v("区域")]),s._v("相关的规则配置")])]),s._v(" "),t("tr",[t("td",[s._v("--list-all-zones")]),s._v(" "),t("td",[s._v("获取所有可以用的"),t("strong",[s._v("区域")]),s._v("的配置规则")])])])]),s._v(" "),t("p",[t("strong",[s._v("区域解释")])]),s._v(" "),t("ul",[t("li",[s._v("区域 是 centos7 新增的一个 跟防火墙相关的名字")]),s._v(" "),t("li",[s._v("这个区域名词里 带着防火墙相关的一些 规则（windows 的出站规则  入站规则 ）")]),s._v(" "),t("li",[s._v("默认linux 自带一些默认的防火墙规则 他分为了好几种 这种规则 叫  "),t("strong",[s._v("区域")]),s._v("     比如数据库的： 3306端口这就是规则")])]),s._v(" "),t("p",[t("strong",[s._v("常见的区域规则表")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("区域")]),s._v(" "),t("th",[s._v("默认自带的规则")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("trusted")]),s._v(" "),t("td",[s._v("默认接受所有 流入 流出的规则")])]),s._v(" "),t("tr",[t("td",[t("strong",[s._v("public")])]),s._v(" "),t("td",[t("strong",[s._v("拒绝所有流入的流量，除非与流出相关的 允许 ssh（22） dhcpv6-client")])])]),s._v(" "),t("tr",[t("td",[s._v("internal")]),s._v(" "),t("td",[s._v("拒绝所有流入的流量，除非与流出相关的  ssh mdns samba-client dhcpv6-client")])]),s._v(" "),t("tr",[t("td",[s._v("home")]),s._v(" "),t("td",[s._v("跟internal  一样的")])]),s._v(" "),t("tr",[t("td",[s._v("external")]),s._v(" "),t("td",[s._v("拒绝所有流入的流量，除非与流出相关的  允许 ssh 服务")])]),s._v(" "),t("tr",[t("td",[s._v("drop")]),s._v(" "),t("td",[s._v("拒绝所有流入的流量，除非与流出相关的  只要是非法的流量默认是丢弃")])]),s._v(" "),t("tr",[t("td",[s._v("dmz")]),s._v(" "),t("td",[s._v("拒绝所有流入的流量，除非与流出相关的  允许 ssh服务")])]),s._v(" "),t("tr",[t("td",[s._v("block")]),s._v(" "),t("td",[s._v("拒绝所有流入的流量，除非与流出相关的  只要是非法的流量默认是拒绝")])])])]),s._v(" "),t("h2",{attrs:{id:"_6-linux开放允许的-服务-或-端口-精准开放"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-linux开放允许的-服务-或-端口-精准开放"}},[s._v("#")]),s._v(" 6-linux开放允许的 服务 或 端口（精准开放）")]),s._v(" "),t("p",[t("strong",[s._v("运行模式下的设置方式")])]),s._v(" "),t("p",[t("strong",[s._v("基本语法")])]),s._v(" "),t("p",[t("strong",[s._v("案例")])]),s._v(" "),t("ol",[t("li",[s._v("一般正常的运行的服务 都是防火墙启动的 不能关闭 默认都是启动的")])]),s._v(" "),t("p",[t("strong",[s._v("方式一：使用服务的名字开启规则增加")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.默认我们的httpd 服务的名字叫 http")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.可以使用 防火墙的 精确开启允许的服务 来实现魔兽世界网页的访问")]),s._v("\nfirewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("方式一：使用服务的名字开启规则移除")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("方式二：使用服务的端口号开启规则")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.默认我们的httpd 服务都是使用80端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.可以使用 防火墙的 精确开启允许的服务 来实现魔兽世界网页的访问")]),s._v("\nfirewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("方式二：使用服务的端口开启规则移除")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("永久模式下的设置")])]),s._v(" "),t("p",[t("strong",[s._v("基本语法")])]),s._v(" "),t("p",[t("strong",[s._v("案例")])]),s._v(" "),t("ol",[t("li",[s._v("一般正常的运行的服务 都是防火墙启动的 不能关闭 默认都是启动的")])]),s._v(" "),t("p",[t("strong",[s._v("方式一：使用服务的名字开启规则")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.默认我们的httpd 服务的名字叫 http")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.可以使用 防火墙的 精确开启允许的服务 来实现魔兽世界网页的访问")]),s._v("\nfirewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v("\nfirewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("方式二：使用服务的端口号开启规则   推荐使用")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.默认我们的httpd 服务都是使用80端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.可以使用 防火墙的 精确开启允许的服务 来实现魔兽世界网页的访问")]),s._v("\nfirewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v("\nfierwall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("统一移除方式")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("port/service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp 、服务名字"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v("\nfierwall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])],1)}),[],!1,null,null,null);t.default=r.exports}}]);