(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{446:function(s,a,e){"use strict";e.r(a);var t=e(0),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx"),s._v(" "),a("h1",{attrs:{id:"docker容器相关命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker容器相关命令"}},[s._v("#")]),s._v(" Docker容器相关命令")]),s._v(" "),a("h2",{attrs:{id:"_1-docker-的启动指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-docker-的启动指令"}},[s._v("#")]),s._v(" 1-docker 的启动指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl  start  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-docker-的停止指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-docker-的停止指令"}},[s._v("#")]),s._v(" 2-docker 的停止指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl  stop  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-docker-的重启指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker-的重启指令"}},[s._v("#")]),s._v(" 3-docker 的重启指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl  restart  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4-查看docker-的启动状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看docker-的启动状态"}},[s._v("#")]),s._v(" 4-查看docker 的启动状态")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl status "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_5-设置docker开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-设置docker开机启动"}},[s._v("#")]),s._v(" 5-设置docker开机启动")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-设置docker开机不启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-设置docker开机不启动"}},[s._v("#")]),s._v(" 6-设置docker开机不启动")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl disable "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_7-查看帮助文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-查看帮助文档"}},[s._v("#")]),s._v(" 7-查看帮助文档")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" 命令 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n或者使用帮助文档 在官网直接 搜索 https://docs.docker.com/reference/cli\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_8-docker下拉镜像指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-docker下拉镜像指令"}},[s._v("#")]),s._v(" 8-docker下拉镜像指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull 镜像名字:tag   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--tag")]),s._v(" 的意思是版本号\n\n案例：centos镜像\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull centos:7.6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ol",[a("li",[s._v("tag 的值 具体是具体的版本")]),s._v(" "),a("li",[s._v("如果是latest 表示最新版本")]),s._v(" "),a("li",[s._v("如果下拉镜像的时候没有加版本号 默认最新版本")])]),s._v(" "),a("h2",{attrs:{id:"_9-docker-的镜像搜索指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-docker-的镜像搜索指令"}},[s._v("#")]),s._v(" 9-docker 的镜像搜索指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search  镜像名字:tag   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--tag")]),s._v(" 的意思是版本号\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("推荐使用官网的hub 搜索")]),s._v("  网址：https://hub.docker.com/")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715650422182.png",alt:"1715650422182"}})]),s._v(" "),a("p",[a("strong",[s._v("案例 搜索centos")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715650578654.png",alt:"1715650578654"}})]),s._v(" "),a("p",[s._v("根据 newest  这个位置排序 找到自己想要的具体镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull centos:7.6.1810\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_10-docker-查看本地镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-docker-查看本地镜像"}},[s._v("#")]),s._v(" 10-docker 查看本地镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_11-docker-删除本地镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-docker-删除本地镜像"}},[s._v("#")]),s._v(" 11-docker 删除本地镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi 镜像的id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_12-docker-使用镜像跑容器指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-docker-使用镜像跑容器指令"}},[s._v("#")]),s._v(" 12-docker 使用镜像跑容器指令")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("# 基本指令 \ndocker  run  镜像"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("版本号 #使用xx镜像 运行一个xx容器  \n#选项\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it #给我一个交互终端tty\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d  #使容器在后台主动运行\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p  #端口映射  注释： "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 宿主机端口"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("docker端口\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name #指定容器的 名字\n \n#注意\n 一般有 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it 这个选项 在最后面 都会添加一个 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n一般情况夏 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it  和  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d 不会同时使用\n端口映射：在外部如果有人想访问我的docker 容器 不能直接访问 需要先访问宿主机 宿主机在访问docker\n宿主机的："),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" 映射到 docker 的"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("端口\n\n#ctrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" c 退出占用终端\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".docker run tomcat:lastes "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动默认占用终端 不是所有镜像都会占用终端")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("  tomcat:latest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动的容器在后台主动运行 可以使用docker ps 查看")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" mytom  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("  tomcat:latest"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动容器在后台运行并给容器起名字叫mytom")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v("  tomcat:latest /bin/bash "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动容器给我一个交互终端以/bin/bash 格式")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 tomcat:latest /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[a("strong",[s._v("场景")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 tomcat:latest /bin/bash  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动了容器但是访问不了 （但是tomcat没有主动启动）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 tomcat:latest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-d在后台主动运行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取容器的id")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" 容器id /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"_13-docker-查看正在运行容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-docker-查看正在运行容器"}},[s._v("#")]),s._v(" 13-docker 查看正在运行容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#选项 ")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("   表示查看所有运行过的容器（正在运行的容器，和已经运行过退出的容器）（历史记录）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_14-docker-exec再次开启终端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-docker-exec再次开启终端"}},[s._v("#")]),s._v(" 14-docker exec再次开启终端")]),s._v(" "),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ol",[a("li",[s._v("在你的docker容器实例后台运行的时候 会用  这个指令")]),s._v(" "),a("li",[s._v("有些时候需要进入 容器实例 也需要退出容器实例")])]),s._v(" "),a("p",[a("strong",[s._v("小指令")])]),s._v(" "),a("ol",[a("li",[s._v("这两个小指令都是在 docker 容器中使用的")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".输入 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" 按enter（回车） //退出容器\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".ctrl + p +q  //退出容器 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("仅仅是退出后台"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("docker exec "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it 容器的id  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_15-docker-删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-docker-删除容器"}},[s._v("#")]),s._v(" 15-docker 删除容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器的id  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除已经停止的容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" 容器id "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 什么的都可以删除")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#选项 -f  用于强制删除")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_16-docker查看docker的磁盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-docker查看docker的磁盘"}},[s._v("#")]),s._v(" 16-docker查看docker的磁盘")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" system "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_17-docker容器启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-docker容器启动"}},[s._v("#")]),s._v(" 17-docker容器启动")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start 容器id  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_18-docker容器停止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-docker容器停止"}},[s._v("#")]),s._v(" 18-docker容器停止")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop 容器id  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_19-docker容器杀死强制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-docker容器杀死强制"}},[s._v("#")]),s._v(" 19-docker容器杀死强制")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" 容器id  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_20-docker容器查看日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-docker容器查看日志"}},[s._v("#")]),s._v(" 20-docker容器查看日志")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs 容器id "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_21-docker容器负载情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-docker容器负载情况"}},[s._v("#")]),s._v(" 21-docker容器负载情况")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 容器id "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_22-docker容器网络信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_22-docker容器网络信息"}},[s._v("#")]),s._v(" 22-docker容器网络信息")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect 容器id "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器id 可以使用docker ps -a 查看")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ol",[a("li",[s._v("network 网络里面有一个 ipaddress 里面是ip地址 ，但是这个ip地址是docker虚拟出来的")]),s._v(" "),a("li",[s._v("这个ip地址仅用于 docker容器直接的通信使用不能外部直接使用")])]),s._v(" "),a("h2",{attrs:{id:"_23-docker容器备份复制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_23-docker容器备份复制"}},[s._v("#")]),s._v(" 23-docker容器备份复制")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" 要备份的容器id:容器要备份的文件路径  宿主机的存放路径\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_24-docker容器备份tar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_24-docker容器备份tar"}},[s._v("#")]),s._v(" 24-docker容器备份tar")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v("  自定义文件名字.tar  要导出容器的id \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_25-docker容器tar导入生成镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_25-docker容器tar导入生成镜像"}},[s._v("#")]),s._v(" 25-docker容器tar导入生成镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" 生成新镜像的.tar  新的镜像名字:新的镜像版本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_26-yum-下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_26-yum-下载"}},[s._v("#")]),s._v(" 26-yum 下载")]),s._v(" "),a("ol",[a("li",[s._v("因为 docker 容器它运行的时候 是使用的最小 linux环境")]),s._v(" "),a("li",[s._v("一般准备的指令 操作 都不全")]),s._v(" "),a("li",[s._v("我们可以用yum 下载")]),s._v(" "),a("li",[s._v("如果你的镜像 用的centos:latest 版本不行  我们使用 7版本")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 具体的需要\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_27-docker容器生成自己本地镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_27-docker容器生成自己本地镜像"}},[s._v("#")]),s._v(" 27-docker容器生成自己本地镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'提交的信息'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'作者'")]),s._v(" 容器的id   新镜像名字:新镜像的版本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_28-docker容器的单项通讯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_28-docker容器的单项通讯"}},[s._v("#")]),s._v(" 28-docker容器的单项通讯")]),s._v(" "),a("p",[a("strong",[s._v("解释")])]),s._v(" "),a("ol",[a("li",[s._v("运行的tomcat 容器  （小型的linux+tomcat）服务端 是不是要链接  db数据库")]),s._v(" "),a("li",[s._v("再运行一个容器mysql容器 （小型的linux+mysql）")]),s._v(" "),a("li",[s._v("两个端的链接需要啥？ ip地址")]),s._v(" "),a("li",[s._v("docker inspect dockerID  获得虚拟的docker容器服务器ip地址 172.xxxxxx（这个虚拟的地址只有容器之间可以相互通讯）")])]),s._v(" "),a("p",[a("strong",[s._v("案例容器通讯")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.创建 jar后台 容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" centos:7.6.1810 /bin/bash\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.创建一个db 数据库容器")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" db "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" centos:7.6.1810 /bin/bash \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.有了两个服务之后 使用 docker inspect 容器id 指令获取其中一个 ip地址 172.17.0.1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect 容器id  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("》 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172")]),s._v(".xxxxx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4.进入其中的一个容器 使用docker exec 进入 之后使用 ping +容器ip地址测试")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ip地址   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -c 2 表示ping 2次结束")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ol",[a("li",[s._v("我们在使用容器的时候 因为创建容器太方便 有一个问题")]),s._v(" "),a("li",[s._v("就是容器的ip地址是随机分配的 后期创建的容器越多随机分配地址越容器更换")]),s._v(" "),a("li",[s._v("解决办法 就是使用docker 的单项通讯\n"),a("ol",[a("li",[s._v("单项通讯 可以让容器的名字跟 ip地址自动绑定")]),s._v(" "),a("li",[s._v("域名 绑定 ip")])])])]),s._v(" "),a("p",[a("strong",[s._v("语法")])]),s._v(" "),a("ol",[a("li",[s._v("在启动容器的时候 再去添加一个 选项 --link  链接的容器名字")]),s._v(" "),a("li",[s._v("jar ====》  db")]),s._v(" "),a("li",[s._v("注意 你要清楚是谁链接谁")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在启动的时候 添加一个 --link 选项即可 ：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--link")]),s._v(" db "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" centos:7.6.1810 /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_29-查看所有的网桥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_29-查看所有的网桥"}},[s._v("#")]),s._v(" 29-查看所有的网桥")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("docker network ls\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/assets/1715737374461.png",alt:"1715737374461"}})]),s._v(" "),a("h2",{attrs:{id:"_30-创建属于自己的网桥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_30-创建属于自己的网桥"}},[s._v("#")]),s._v(" 30-创建属于自己的网桥")]),s._v(" "),a("div",{staticClass:"language-sj line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" docker network create -d bridge 自定义网桥名字\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_31-网桥双向通讯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_31-网桥双向通讯"}},[s._v("#")]),s._v(" 31-网桥双向通讯")]),s._v(" "),a("p",[a("strong",[s._v("语法")])]),s._v(" "),a("ol",[a("li",[s._v("设置  我们的 jar 容器 db 容器 都链接 我们的自定义网桥")]),s._v(" "),a("li",[s._v("设置好 jar服务器 与db 服务 都链接 共同的网桥即可")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" docker network connect my01bridge jar \n docker network connect my01bridge db\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_32-容器卷-挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_32-容器卷-挂载"}},[s._v("#")]),s._v(" 32-容器卷 挂载")]),s._v(" "),a("p",[a("strong",[s._v("解释")])]),s._v(" "),a("ol",[a("li",[s._v("存放信息  我们有 u盘 软盘等")]),s._v(" "),a("li",[s._v("c盘  d盘")]),s._v(" "),a("li",[s._v("docker容器实例 里面是有文件夹的 web   webapp文件夹 里面有 index.html 等文件")]),s._v(" "),a("li",[s._v("如果容器一单被删除 文件也将消失")]),s._v(" "),a("li",[s._v("创建了一个容器后 ，想把linux服务器上 有的index.html 上传到 docker容器实例里面去 ？？？")]),s._v(" "),a("li",[s._v("跑项目  需要 centos 容器 里面有  jar包  (jar)")]),s._v(" "),a("li",[s._v("web容器里面需要有 index.html  (index.html)")])]),s._v(" "),a("p",[a("strong",[s._v("解决办法")])]),s._v(" "),a("ol",[a("li",[s._v("上传文件的问题 可以使用 docker 的卷挂载解决")]),s._v(" "),a("li",[s._v("原理： 就是把docker容器某个目录 挂载到 宿主机的某个指定目录")]),s._v(" "),a("li",[s._v("使用 -v 选项 挂载宿主机目录 与 docker 容器目录胡同")]),s._v(" "),a("li",[s._v("挂载之后 宿主机上目录有的内容 docker 里面也会有")]),s._v(" "),a("li",[s._v("如果docker容器被删除，宿主机的挂载卷内容可以保留，实现数据的持久化")]),s._v(" "),a("li",[s._v("上边的 如何上传到docker容器 web文件就解决了 可以上传到 宿主机的-v 挂载目录即可")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /宿主机目录:/docker目录 镜像:版本 /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_33-dockerfile文件自定义镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_33-dockerfile文件自定义镜像"}},[s._v("#")]),s._v(" 33-Dockerfile文件自定义镜像")]),s._v(" "),a("p",[a("strong",[s._v("解释")])]),s._v(" "),a("ol",[a("li",[s._v("相当于 我们自己可以 根据自己的需求 自定义一个镜像")])]),s._v(" "),a("p",[a("strong",[s._v("案例应用 创建一个自己的web页面镜像")])]),s._v(" "),a("ol",[a("li",[s._v("就是我们创建出的这个镜像 只要一运行 就可以访问  web页面")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.#在宿主机 上一个目录创建一个Dockerfile 文件\nFROM 镜像:版本\nMAINTAINER  谁来维护的\nWORKDIR 设置自定义镜像启动容器后根目录的位置  \nADD 那个文件 ./     #./表示根目录\nCMD 设置运行镜像的命令 java -jar ....jar\nEXPOSE 设置端口9931\nENV 设置环境变量JAVA_HOME /usr/..../bin/\n\nFROM tomcat:latest\nMAINTAINER  lubei.com\nWORKDIR /usr/local/tomcat/webapps/\nADD html ./html   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("strong",[s._v("练习")])]),s._v(" "),a("p",[s._v("跑起 mysql 容器 并且在 远程工具中链接上 docker容器运行的mysql 服务")]),s._v(" "),a("h2",{attrs:{id:"_34-docker运行mysql-5-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_34-docker运行mysql-5-7"}},[s._v("#")]),s._v(" 34-docker运行mysql：5.7")]),s._v(" "),a("p",[a("strong",[s._v("步骤")])]),s._v(" "),a("ol",[a("li",[s._v("基本上 用docker 跑服务 就是 跑容器")]),s._v(" "),a("li",[s._v("下载docker上的镜像 跑docker容器")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一般下载镜像都会在 dockerhub 上去搜索一下看看有没有")]),s._v("\n在 https://hub.docker.com/  地址搜索 mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/assets/1715909323048.png",alt:"1715909323048"}})]),s._v(" "),a("p",[a("strong",[s._v("注意")]),s._v(" 一般使用的镜像是带绿标的这个 这种的是 官网提供")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715909359258.png",alt:"1715909359258"}})]),s._v(" "),a("p",[s._v("点击进入之后 一般看到 overview    和 tags 选项")]),s._v(" "),a("p",[a("strong",[s._v("overview")]),s._v(" 这个选型是 镜像的说明使用书")]),s._v(" "),a("p",[a("strong",[s._v("tags")]),s._v(" 里面一般是各个版本")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715909440626.png",alt:"1715909440626"}})]),s._v(" "),a("p",[s._v("可以选择 newest  排序查找")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#寻找到 5.7 版本的mysql 镜像  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql:5.7\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载完毕之后 需要运行 mysql 镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" mymysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" mysql:5.7\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" 指定容器的名字 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root密码  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" 镜像名字:版本\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" mymysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 mysql:5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:"/assets/1715910634506.png",alt:"1715910634506"}})]),s._v(" "),a("p",[a("strong",[s._v("问题")])]),s._v(" "),a("ol",[a("li",[s._v("现在的mysql 容器，如果一旦删除数据还在吗 ?\n"),a("ol",[a("li",[s._v("答案：数据肯定是不在的 一个mysql是一个容器容器销毁了 里面的数据就也就销毁了")])])]),s._v(" "),a("li",[s._v("如果不在如何可以让容器删除后 在重新跑新容器但是 数据还在？\n"),a("ol",[a("li",[s._v("答案：可以使用 -v选项 容器卷的挂载")]),s._v(" "),a("li",[s._v("就是-v 容器卷 挂载 可以 让宿主机 与 docker 信息同步")]),s._v(" "),a("li",[s._v("docker容器销毁 宿主机同步的数据是不会消失")])])]),s._v(" "),a("li",[s._v("在运行mysql 容器的时候 可以 使用-v 选项 把 docker 容器mysql 实例的 log 与 lib 文件夹 备份")])]),s._v(" "),a("p",[a("strong",[s._v("解决数据丢失问题")])]),s._v(" "),a("p",[s._v("在运行mysql 容器的时候 可以 使用-v 选项 把 docker 容器mysql 实例的 log 与 lib 文件夹 备份")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" mymysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /linux/lib/mysql:/var/lib/mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /linux/log/mysql:/var/log/mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 mysql:5.7 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_35-自己用docker跑考试应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_35-自己用docker跑考试应用"}},[s._v("#")]),s._v(" 35-自己用docker跑考试应用")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715928764794.png",alt:"1715928764794"}})]),s._v(" "),a("ol",[a("li",[a("p",[s._v("war 包跟 jar包不一样  jar包 运行的  java -jar xxxxx.jar")])]),s._v(" "),a("li",[a("p",[s._v("war 包不需要")]),s._v(" "),a("ol",[a("li",[s._v("这个war包 前后端一体的    java后台  html 前端")]),s._v(" "),a("li",[s._v("只需要 把 war 包 放进 tomcat 的 webapps 文件夹下就可以自动解析 需要startup.bat  运行完毕之后会生成一个文件 在当前目录 webapps 下面 会生成 examxx-0.0.1-SNAPSHOT 文件夹")]),s._v(" "),a("li",[s._v("你只需要 把 tomcat 跑起来  数据库跑起来 就可以直接访问了")]),s._v(" "),a("li",[s._v("进入  examxx-0.0.1-SNAPSHOT  然后 进入 WEB-INF 有一个 spring 文件夹 root-context.xml")]),s._v(" "),a("li",[s._v("用"),a("strong",[s._v("记事本")]),s._v("打开这个文件 root-context.xml  文件")]),s._v(" "),a("li",[s._v("修改 下图的信息")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715930207887.png",alt:"1715930207887"}})])])]),s._v(" "),a("p",[s._v("修改完毕之后 重新启动  tomcat 的 startup.bat  或者 startup.sh(llinux)")]),s._v(" "),a("p",[s._v("然后 在你的数据 创建 一个新的数据库 名字叫 examxx 然后把 带的 sql文件导入到这个数据库")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1715930761324.png",alt:"1715930761324"}})]),s._v(" "),a("p",[s._v("启动完毕之后项目就可以访问了 ip地址:tomcat端口号/examxx-0.0.1-SNAPSHOT")]),s._v(" "),a("p",[s._v("就可以进入 考试系统  账户 admin   密码  123456")]),s._v(" "),a("p",[s._v("一般报500 错误 这个就是数据库 没有或者 xml 文件你没有配置对")]),s._v(" "),a("p",[s._v("注意：mysql 8.0 的数据库 不行 数据库必须是 5.7版本的才可以 如果你的window上面装的8.0 的你可以直接在docker上跑数据库5.7版本就行")])],1)}),[],!1,null,null,null);a.default=r.exports}}]);