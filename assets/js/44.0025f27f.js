(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{465:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx"),s._v(" "),a("h1",{attrs:{id:"计划任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计划任务"}},[s._v("#")]),s._v(" 计划任务")]),s._v(" "),a("h2",{attrs:{id:"_1-计划任务概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-计划任务概述"}},[s._v("#")]),s._v(" 1-计划任务概述")]),s._v(" "),a("ul",[a("li",[s._v("我们指定一个计划  在某个时间进行主动完成 就是计划任务 也可以叫定时任务，")]),s._v(" "),a("li",[s._v("案例：比如我想在凌晨 3：00 的时候 重启一下网络服务\n"),a("ul",[a("li",[s._v("方式1 派一个员工 在3：00 的时候 蹲在这里 看着 3：00 重启")]),s._v(" "),a("li",[s._v("使用计划任务 （自已定义好时间 然后计算机自动重启）")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-windows的计划任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-windows的计划任务"}},[s._v("#")]),s._v(" 2-windows的计划任务")]),s._v(" "),a("p",[a("strong",[s._v("步骤")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273805939.png",alt:"1714273805939"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273842998.png",alt:"1714273842998"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273880099.png",alt:"1714273880099"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273908903.png",alt:"1714273908903"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273952212.png",alt:"1714273952212"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714273969118.png",alt:"1714273969118"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1714274003391.png",alt:"1714274003391"}})]),s._v(" "),a("p",[a("strong",[s._v("点击完成可以了")])]),s._v(" "),a("h2",{attrs:{id:"_3-linux的crontab计划任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-linux的crontab计划任务"}},[s._v("#")]),s._v(" 3-linux的crontab计划任务")]),s._v(" "),a("p",[a("strong",[s._v("基本语法")])]),s._v(" "),a("p",[a("strong",[s._v("选项")])]),s._v(" "),a("ol",[a("li",[s._v("-e  编辑crontab  计划任务")]),s._v(" "),a("li",[s._v("-l   显示所有正在运行的计划任务")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("命令")]),s._v(" "),a("th",[s._v("意思")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("crontab -e")]),s._v(" "),a("td",[s._v("打开编写计划任务的编辑器")])]),s._v(" "),a("tr",[a("td",[s._v("crontab -l")]),s._v(" "),a("td",[s._v("查看所有运行的计划任务")])])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#计划任务的 编写 规则 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1. 规则： 分 时 日 月 周  执行的命令  实际写的 * * * * *  mkdir file")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  * 表示每个 分的话就是每分钟 时每个小时 日 月 周")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  - 表示几 到 几  15-30  15-20  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ， 表示 1，2，3 选择多个值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  /  除的意思  */30 表示每隔 30分钟")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("  每个单位的可取值 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n\n分 ：1-59\n时 ：1-23\n日 ：1-31\n月 ：1-12\n周 ：0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  中：周一是一周的第一天  美：星期天是第一天 07 都表示 星期天 1-7")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("ul",[a("li",[s._v("在计划任务的编辑文档中  "),a("strong",[s._v("一行编辑的内容")]),s._v(" 就是"),a("strong",[s._v("一个计划任务")])]),s._v(" "),a("li",[s._v("有时候 在计划任务的里面写的命令 必须是命令的 完整路径")]),s._v(" "),a("li",[s._v("如何查找 命令的完整路径\n"),a("ul",[a("li",[a("strong",[s._v("使用 which  命令  可以得到完整路径")])])])])]),s._v(" "),a("h2",{attrs:{id:"_4-crontab计划任务案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-crontab计划任务案例"}},[s._v("#")]),s._v(" 4-crontab计划任务案例")]),s._v(" "),a("p",[a("strong",[s._v("案例一")]),s._v("：每个月的 3，13，26 日的 3：45 的时候重启 network网络配置")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分 时  日 月 周  命令")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,13")]),s._v(",26  *  *   systemctl restart network\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例二")]),s._v("：每个周六，周日的 12：15分 关闭防火墙")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分 时  日 月 周  命令")]),s._v("\n  15 12 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  6，7   systemctl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("      \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例三")]),s._v("：每天的 18：00到 22：00 点之间 每隔 20分钟 重启网络")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分   时    日 月 周  命令")]),s._v("\n */20 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("-22 *  *  *    命令\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例四")]),s._v("：每隔两天的上午 9：00到 11点 的第 3 第20 分钟 向 ceshi.txt 文件中追加一个 数字1")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分   时    日 月 周  命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,20")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("-11  */2 *  *   "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ceshi.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例五")]),s._v("：每分钟向 ceshi.txt 中追加 一个  ‘我是linux’")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分   时    日 月 周  命令")]),s._v("\n * * * * *   "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ceshi.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_5-at计划任务-一次性的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-at计划任务-一次性的"}},[s._v("#")]),s._v(" 5-at计划任务(一次性的)")]),s._v(" "),a("p",[a("strong",[s._v("安装at计划任务")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" at "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" 默认全部安装\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("基本语法")])]),s._v(" "),a("ol",[a("li",[s._v("am  表示上午   pm 表示下午  days 表示天  now 表示立刻")]),s._v(" "),a("li",[s._v("支持的语法  8：00 am   9：15 pm")]),s._v(" "),a("li",[s._v("8:00am + 3 days")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  at 后面加 我们的时间设定和 命令就可以了")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("案例")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# at 3:22pm   定义好具体的时间")]),s._v("\nat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /ceshi.txt     写命令推荐换行写命令\nat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("EOT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   推荐换行 结束 （ctrl+d）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_6-crontab计划任务黑名单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-crontab计划任务黑名单"}},[s._v("#")]),s._v(" 6-crontab计划任务黑名单")]),s._v(" "),a("p",[a("strong",[s._v("基本语法")])]),s._v(" "),a("ol",[a("li",[s._v("默认linux 用户都可以写计划任务")]),s._v(" "),a("li",[s._v("可以设置权限 比如 某某不可以用计划任务")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("只需要 把用户的名字添加到 /etc/cron.deny 文件里面就可以限制 该用户的 计划任务权限\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);