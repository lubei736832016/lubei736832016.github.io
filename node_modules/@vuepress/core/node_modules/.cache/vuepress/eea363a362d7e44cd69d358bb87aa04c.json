{"remainingRequest":"D:\\VuePress-boke-them\\my-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VuePress-boke-them\\my-blog\\.vuepress\\components\\particles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VuePress-boke-them\\my-blog\\.vuepress\\components\\particles.vue","mtime":1689047445000},{"path":"D:\\VuePress-boke-them\\my-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1697190604579},{"path":"D:\\VuePress-boke-them\\my-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1697190604567},{"path":"D:\\VuePress-boke-them\\my-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1697190604579},{"path":"D:\\VuePress-boke-them\\my-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1697190605090}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAncGFydGljbGVzJywNCiAgICAgICAgZGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB7fQ0KICAgICAgICB9LA0KICAgICAgICBtb3VudGVkICgpIHsNCiAgICAgICAgICAgIHRoaXMuaW5pdCgpDQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6IHsNCiAgICAgICAgICAgIGluaXQgKCkgew0KICAgICAgICAgICAgICAgIGxldCBjID0gdGhpcy4kcmVmcy5jYW52YXMNCiAgICAgICAgICAgICAgICBsZXQgdyA9IGMud2lkdGggPSA2MDAsDQogICAgICAgICAgICAgICAgICAgIGggPSBjLmhlaWdodCA9IDUwMCwNCiAgICAgICAgICAgICAgICAgICAgY3R4ID0gYy5nZXRDb250ZXh0KCAnMmQnICksDQoNCiAgICAgICAgICAgICAgICAgICAgb3B0cyA9IHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgbGVuOiAyMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiA1MCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VUaW1lOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkVGltZTogMTAsDQogICAgICAgICAgICAgICAgICAgICAgICBkaWVDaGFuY2U6IC4wNSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXduQ2hhbmNlOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3BhcmtDaGFuY2U6IC4xLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3BhcmtEaXN0OiAxMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXJrU2l6ZTogMiwNCg0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdoc2woaHVlLDEwMCUsbGlnaHQlKScsDQogICAgICAgICAgICAgICAgICAgICAgICBiYXNlTGlnaHQ6IDUwLA0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRMaWdodDogMTAsIC8vIFs1MC0xMCw1MCsxMF0NCiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1RvVGltZVByb3BNdWx0OiA2LA0KICAgICAgICAgICAgICAgICAgICAgICAgYmFzZUxpZ2h0SW5wdXRNdWx0aXBsaWVyOiAuMDEsDQogICAgICAgICAgICAgICAgICAgICAgICBhZGRlZExpZ2h0SW5wdXRNdWx0aXBsaWVyOiAuMDIsDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGN4OiB3IC8gMiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGN5OiBoIC8gMiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGFpbnRBbHBoYTogLjA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgaHVlQ2hhbmdlOiAuMQ0KICAgICAgICAgICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAgICAgICAgIHRpY2sgPSAwLA0KICAgICAgICAgICAgICAgICAgICBsaW5lcyA9IFtdLA0KICAgICAgICAgICAgICAgICAgICBkaWVYID0gdyAvIDIgLyBvcHRzLmxlbiwNCiAgICAgICAgICAgICAgICAgICAgZGllWSA9IGggLyAyIC8gb3B0cy5sZW4sDQoNCiAgICAgICAgICAgICAgICAgICAgYmFzZVJhZCA9IE1hdGguUEkgKiAyIC8gNjsNCg0KICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snOw0KICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCggMCwgMCwgdywgaCApOw0KDQogICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9vcCgpIHsNCg0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBsb29wICk7DQoNCiAgICAgICAgICAgICAgICAgICAgKyt0aWNrOw0KDQogICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOw0KICAgICAgICAgICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7DQogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCxhbHApJy5yZXBsYWNlKCAnYWxwJywgb3B0cy5yZXBhaW50QWxwaGEgKTsNCiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KCAwLCAwLCB3LCBoICk7DQogICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYoIGxpbmVzLmxlbmd0aCA8IG9wdHMuY291bnQgJiYgTWF0aC5yYW5kb20oKSA8IG9wdHMuc3Bhd25DaGFuY2UgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMucHVzaCggbmV3IExpbmUgKTsNCg0KICAgICAgICAgICAgICAgICAgICBsaW5lcy5tYXAoIGZ1bmN0aW9uKCBsaW5lICl7IGxpbmUuc3RlcCgpOyB9ICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIExpbmUoKXsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIExpbmUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSAwOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSAwOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkWCA9IDA7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkZWRZID0gMDsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZCA9IDA7DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodElucHV0TXVsdGlwbGllciA9IG9wdHMuYmFzZUxpZ2h0SW5wdXRNdWx0aXBsaWVyICsgb3B0cy5hZGRlZExpZ2h0SW5wdXRNdWx0aXBsaWVyICogTWF0aC5yYW5kb20oKTsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gb3B0cy5jb2xvci5yZXBsYWNlKCAnaHVlJywgdGljayAqIG9wdHMuaHVlQ2hhbmdlICk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VtdWxhdGl2ZVRpbWUgPSAwOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW5QaGFzZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBMaW5lLnByb3RvdHlwZS5iZWdpblBoYXNlID0gZnVuY3Rpb24oKXsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnggKz0gdGhpcy5hZGRlZFg7DQogICAgICAgICAgICAgICAgICAgIHRoaXMueSArPSB0aGlzLmFkZGVkWTsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUgPSAwOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFRpbWUgPSAoIG9wdHMuYmFzZVRpbWUgKyBvcHRzLmFkZGVkVGltZSAqIE1hdGgucmFuZG9tKCkgKSB8MDsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZCArPSBiYXNlUmFkICogKCBNYXRoLnJhbmRvbSgpIDwgLjUgPyAxIDogLTEgKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRlZFggPSBNYXRoLmNvcyggdGhpcy5yYWQgKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRlZFkgPSBNYXRoLnNpbiggdGhpcy5yYWQgKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiggTWF0aC5yYW5kb20oKSA8IG9wdHMuZGllQ2hhbmNlIHx8IHRoaXMueCA+IGRpZVggfHwgdGhpcy54IDwgLWRpZVggfHwgdGhpcy55ID4gZGllWSB8fCB0aGlzLnkgPCAtZGllWSApDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIExpbmUucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpew0KDQogICAgICAgICAgICAgICAgICAgICsrdGhpcy50aW1lOw0KICAgICAgICAgICAgICAgICAgICArK3RoaXMuY3VtdWxhdGl2ZVRpbWU7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMudGltZSA+PSB0aGlzLnRhcmdldFRpbWUgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpblBoYXNlKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0aGlzLnRpbWUgLyB0aGlzLnRhcmdldFRpbWUsDQogICAgICAgICAgICAgICAgICAgICAgICB3YXZlID0gTWF0aC5zaW4oIHByb3AgKiBNYXRoLlBJIC8gMiAgKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0aGlzLmFkZGVkWCAqIHdhdmUsDQogICAgICAgICAgICAgICAgICAgICAgICB5ID0gdGhpcy5hZGRlZFkgKiB3YXZlOw0KDQogICAgICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gcHJvcCAqIG9wdHMuc2hhZG93VG9UaW1lUHJvcE11bHQ7DQogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdHguc2hhZG93Q29sb3IgPSB0aGlzLmNvbG9yLnJlcGxhY2UoICdsaWdodCcsIG9wdHMuYmFzZUxpZ2h0ICsgb3B0cy5hZGRlZExpZ2h0ICogTWF0aC5zaW4oIHRoaXMuY3VtdWxhdGl2ZVRpbWUgKiB0aGlzLmxpZ2h0SW5wdXRNdWx0aXBsaWVyICkgKTsNCiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KCBvcHRzLmN4ICsgKCB0aGlzLnggKyB4ICkgKiBvcHRzLmxlbiwgb3B0cy5jeSArICggdGhpcy55ICsgeSApICogb3B0cy5sZW4sIDIsIDIgKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiggTWF0aC5yYW5kb20oKSA8IG9wdHMuc3BhcmtDaGFuY2UgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KCBvcHRzLmN4ICsgKCB0aGlzLnggKyB4ICkgKiBvcHRzLmxlbiArIE1hdGgucmFuZG9tKCkgKiBvcHRzLnNwYXJrRGlzdCAqICggTWF0aC5yYW5kb20oKSA8IC41ID8gMSA6IC0xICkgLSBvcHRzLnNwYXJrU2l6ZSAvIDIsIG9wdHMuY3kgKyAoIHRoaXMueSArIHkgKSAqIG9wdHMubGVuICsgTWF0aC5yYW5kb20oKSAqIG9wdHMuc3BhcmtEaXN0ICogKCBNYXRoLnJhbmRvbSgpIDwgLjUgPyAxIDogLTEgKSAtIG9wdHMuc3BhcmtTaXplIC8gMiwgb3B0cy5zcGFya1NpemUsIG9wdHMuc3BhcmtTaXplICkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbG9vcCgpOw0KDQogICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCBmdW5jdGlvbigpew0KDQogICAgICAgICAgICAgICAgICAgIHcgPSBjLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7DQogICAgICAgICAgICAgICAgICAgIGggPSBjLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7DQogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCggMCwgMCwgdywgaCApOw0KDQogICAgICAgICAgICAgICAgICAgIG9wdHMuY3ggPSB3IC8gMjsNCiAgICAgICAgICAgICAgICAgICAgb3B0cy5jeSA9IGggLyAyOw0KDQogICAgICAgICAgICAgICAgICAgIGRpZVggPSB3IC8gMiAvIG9wdHMubGVuOw0KICAgICAgICAgICAgICAgICAgICBkaWVZID0gaCAvIDIgLyBvcHRzLmxlbjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["particles.vue"],"names":[],"mappings":";AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"particles.vue","sourceRoot":".vuepress/components","sourcesContent":["<style scoped lang=\"scss\">\r\n    .particles{\r\n        position: relative;\r\n        width:100%;\r\n        height:500px;\r\n    }\r\n</style>\r\n\r\n\r\n<template>\r\n    <div class=\"particles\">\r\n        <canvas id=\"canvas\" ref=\"canvas\" style=\"position: absolute;\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'particles',\r\n        data() {\r\n            return {}\r\n        },\r\n        mounted () {\r\n            this.init()\r\n        },\r\n        methods: {\r\n            init () {\r\n                let c = this.$refs.canvas\r\n                let w = c.width = 600,\r\n                    h = c.height = 500,\r\n                    ctx = c.getContext( '2d' ),\r\n\r\n                    opts = {\r\n\r\n                        len: 20,\r\n                        count: 50,\r\n                        baseTime: 10,\r\n                        addedTime: 10,\r\n                        dieChance: .05,\r\n                        spawnChance: 1,\r\n                        sparkChance: .1,\r\n                        sparkDist: 10,\r\n                        sparkSize: 2,\r\n\r\n                        color: 'hsl(hue,100%,light%)',\r\n                        baseLight: 50,\r\n                        addedLight: 10, // [50-10,50+10]\r\n                        shadowToTimePropMult: 6,\r\n                        baseLightInputMultiplier: .01,\r\n                        addedLightInputMultiplier: .02,\r\n\r\n                        cx: w / 2,\r\n                        cy: h / 2,\r\n                        repaintAlpha: .04,\r\n                        hueChange: .1\r\n                    },\r\n\r\n                    tick = 0,\r\n                    lines = [],\r\n                    dieX = w / 2 / opts.len,\r\n                    dieY = h / 2 / opts.len,\r\n\r\n                    baseRad = Math.PI * 2 / 6;\r\n\r\n                ctx.fillStyle = 'black';\r\n                ctx.fillRect( 0, 0, w, h );\r\n\r\n                function loop() {\r\n\r\n                    window.requestAnimationFrame( loop );\r\n\r\n                    ++tick;\r\n\r\n                    ctx.globalCompositeOperation = 'source-over';\r\n                    ctx.shadowBlur = 0;\r\n                    ctx.fillStyle = 'rgba(0,0,0,alp)'.replace( 'alp', opts.repaintAlpha );\r\n                    ctx.fillRect( 0, 0, w, h );\r\n                    ctx.globalCompositeOperation = 'lighter';\r\n\r\n                    if( lines.length < opts.count && Math.random() < opts.spawnChance )\r\n                        lines.push( new Line );\r\n\r\n                    lines.map( function( line ){ line.step(); } );\r\n                }\r\n                function Line(){\r\n\r\n                    this.reset();\r\n                }\r\n                Line.prototype.reset = function(){\r\n\r\n                    this.x = 0;\r\n                    this.y = 0;\r\n                    this.addedX = 0;\r\n                    this.addedY = 0;\r\n\r\n                    this.rad = 0;\r\n\r\n                    this.lightInputMultiplier = opts.baseLightInputMultiplier + opts.addedLightInputMultiplier * Math.random();\r\n\r\n                    this.color = opts.color.replace( 'hue', tick * opts.hueChange );\r\n                    this.cumulativeTime = 0;\r\n\r\n                    this.beginPhase();\r\n                }\r\n                Line.prototype.beginPhase = function(){\r\n\r\n                    this.x += this.addedX;\r\n                    this.y += this.addedY;\r\n\r\n                    this.time = 0;\r\n                    this.targetTime = ( opts.baseTime + opts.addedTime * Math.random() ) |0;\r\n\r\n                    this.rad += baseRad * ( Math.random() < .5 ? 1 : -1 );\r\n                    this.addedX = Math.cos( this.rad );\r\n                    this.addedY = Math.sin( this.rad );\r\n\r\n                    if( Math.random() < opts.dieChance || this.x > dieX || this.x < -dieX || this.y > dieY || this.y < -dieY )\r\n                        this.reset();\r\n                }\r\n                Line.prototype.step = function(){\r\n\r\n                    ++this.time;\r\n                    ++this.cumulativeTime;\r\n\r\n                    if( this.time >= this.targetTime )\r\n                        this.beginPhase();\r\n\r\n                    var prop = this.time / this.targetTime,\r\n                        wave = Math.sin( prop * Math.PI / 2  ),\r\n                        x = this.addedX * wave,\r\n                        y = this.addedY * wave;\r\n\r\n                    ctx.shadowBlur = prop * opts.shadowToTimePropMult;\r\n                    ctx.fillStyle = ctx.shadowColor = this.color.replace( 'light', opts.baseLight + opts.addedLight * Math.sin( this.cumulativeTime * this.lightInputMultiplier ) );\r\n                    ctx.fillRect( opts.cx + ( this.x + x ) * opts.len, opts.cy + ( this.y + y ) * opts.len, 2, 2 );\r\n\r\n                    if( Math.random() < opts.sparkChance )\r\n                        ctx.fillRect( opts.cx + ( this.x + x ) * opts.len + Math.random() * opts.sparkDist * ( Math.random() < .5 ? 1 : -1 ) - opts.sparkSize / 2, opts.cy + ( this.y + y ) * opts.len + Math.random() * opts.sparkDist * ( Math.random() < .5 ? 1 : -1 ) - opts.sparkSize / 2, opts.sparkSize, opts.sparkSize )\r\n                }\r\n                loop();\r\n\r\n                window.addEventListener( 'resize', function(){\r\n\r\n                    w = c.width = window.innerWidth;\r\n                    h = c.height = window.innerHeight;\r\n                    ctx.fillStyle = 'black';\r\n                    ctx.fillRect( 0, 0, w, h );\r\n\r\n                    opts.cx = w / 2;\r\n                    opts.cy = h / 2;\r\n\r\n                    dieX = w / 2 / opts.len;\r\n                    dieY = h / 2 / opts.len;\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"]}]}