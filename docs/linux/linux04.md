---
title: linuxVim编辑器的使用
date: 2023-05-09
---
<Boxx/>

# vim文件编辑器

**解释**

1. vim 是 linux 系统内 的自带的一个文本编辑器 
2. 后面可能会 写 一些 文件内容 或者后期的 .sh 文件 这里面会写 shell 脚本
3. vim 可以给文件编辑内容
4. 原来的版本 都是配备 vi编辑器 centos7 后 vim  vim 是vi 的升级版本

**注意**

1. 后面我们会安装linux 精简版本 非桌面化的版本 他是不带vim编辑器
2. 如果没有vim 咋办 ？
   1. 可以直接在终端 输入 yum install vim 他会自动化下载安装 （需要联网）
   2. 后期的其他软件一般 yum install 软件包名字 都可以下载安装

## 1-vim打开

**解释**

1. 在终端 直接输入 vim 就可以打开vim 编辑器

![1713774502506](/assets/1713774502506.png)

2. 打开编辑器后 如果想推出 可以输入 q 按下 enter 键 就可以了

**常用**

1. vim 文件名字   通常情况下  需要提前创建好编辑的文件
2. 或着  vim 新的文件名字也可以他会自动帮你创建

## 2-vim编辑器的四种模式

**介绍**

1. 命令模式
2. 编辑模式
3. 末行模式
4. 可视化模式

**解释四种模式**

**命令模式**：vim 文件名字进入的时候 就是命令模式 这个模式下 不可以编辑但是可以移动光标 可以粘贴复制删除 ....

**编辑模式**：就是编辑文件  输入文件 

**末行模式**：在左下角 有一个冒号的时候 就是进入到末行模式 了 末行模式可以 保存 可以退出  可以强制推出  还可以直接保存退出  还可以查找关键字

**可视化模式**：它可以批量修改

## 3-vim四种模式关系

**解释**

![1713775817602](/assets/1713775817602.png)

**注意**

1. 在编辑模式  末行模式 可视化模式 进入 命令行模式 按下 esc键盘
2. 命令模式 进入 编辑模式 按  i或者a
3. 命令模式 进入末行模式 shift+ : 就可以
4. 命令模式 进入可视化模式 按 ctrl +v 就可以

## 4-vim命令模式操作

**基本语法**

**注意**

1. 命令模式 只开移动光标  复制 剪切 粘贴 定位.....

| 操作                         | 意思                              |
| ---------------------------- | --------------------------------- |
| 上 下 左 右（ws  hjkl） 键盘 | 可以移动光标到具体的位置          |
| gg                           | 光标定位移动到首行                |
| G                            | 光标定位到末行                    |
| 数字gg                       | 使用数字行数具体定位光标的位置    |
| yy                           | 在命令模式 yy表示复制             |
| p                            | 在命令模式里 p 表示粘贴 paste     |
| 数字yy                       | 复制多行  4yy 复制4行             |
| dd                           | 删除光标选中的当前行              |
| 数字dd                       | 根据数字删除多行                  |
| u                            | 表示撤销操作                      |
| ctrl +r                      | 表示恢复操作                      |
| D                            | 表示删除当前行 但是不向上移动光标 |
| pgup / pageup                | 上翻一整屏幕                      |
| pgdn / pagedown              | 下翻一整屏幕                      |
| ctrl +b                      | 上翻一整屏幕                      |
| ctrl +d                      | 下翻半个屏幕                      |

## 5-vim末行模式操作

**基本语法**

1. 末行模式 一般都是由命令模式 输入 ： 进入 操作 
   1. shift + ： 英文状态下  进入末行模式
   2. vim编辑器中 负责的区域 就是 gg  到 G 负责的区域  只可以使用 上下左右键盘 看区域不要使用鼠标的滚轮 滚轮会把之前的操作指令 带出来 滚轮滚动的是  linux 命令行的历史记录

| 操作                                | 意思                                          |
| ----------------------------------- | --------------------------------------------- |
| :w                                  | vim 编辑器的保存                              |
| :wq                                 | vim 编辑器的保存并推出                        |
| :q                                  | vim的退出  但是这个q 必须文件处于 已保存状态  |
| :q!                                 | vim的强制退出 但是文件不会保存                |
| :/关键字                            | vim 的查找关键字功能 查找到的关键字会高亮     |
| n                                   | vim 使用:/ 查找关键字后 结果的 光标移动下一个 |
| :noh                                | vim编辑器 取消高亮状态                        |
| :set nu                             | vim 设置每一行的编号                          |
| :set nonu                           | vim 取消编号                                  |
| :s/要替换的关键字/替换为的新内容    | 这个替换只会替换选中行的第一个                |
| :s/要替换的关键字/替换为的新内容/g  | 替换光标选中的整行内容                        |
| :%s/要替换的关键字/替换为的新内容   | 全文替换每一行的第一个关键字                  |
| :%s/要替换的关键字/替换为的新内容/g | 全文替换                                      |

## 6-vim编辑模式

**解释**

1. i  或者  a 进入编辑模式 
   1. i 是在光标 文本 前面插入  
   2. a 是在光标文件后面插入

## 7-vim可视化模式

**解释**

1. 如何进入可视化 
   1. 在命令模式下 ctrl +v

```sh
1..sh文件叫shell 脚本 一般用于多行注释的时候 可能会使用 可视化模式   # 表示linux 的注释（不生效）

案例

  1.注释多行 一口气
  答案：ctrl +v 进入可视化模式 按移动键 选中你要注释的多行的第一个字节位置 按下 大写的I 输入# 号 在按下esc键 就可以多行注释
  
  2.解注释 多行
  答案：ctrl +v 进入可视化模式 按移动键 选中所有的 #号注释 按下 delete键盘就可以
```

## 8-vim异常退出

**解释**

1. 有些时候 有人不小心没保存退出了 直接关闭交互文件
2. 或者直接关闭了shell 连接窗口 就会出现报错异常
3. 就会出现一下异常

```sh
E325: 注意
发现交换文件 ".myyichang.txt.swp"
            所有者: root    日期: Tue Apr 23 11:07:04 2024
            文件名: ~root/myyichang.txt
            修改过: 是
            用户名: root      主机名: localhost.localdomain
           进程 ID: 5996
正在打开文件 "myyichang.txt"
              日期: Tue Apr 23 11:06:40 2024

(1) Another program may be editing the same file.  If this is the case,
    be careful not to end up with two different instances of the same
    file when making changes.  Quit, or continue with caution.
(2) An edit session for this file crashed.
    如果是这样，请用 ":recover" 或 "vim -r myyichang.txt"
-- 更多 --
```

**解决办法**

```sh
发现交换文件 ".myyichang.txt.swp"  我们只需要删除这个交换文件就可以了
按写 d 就可以删除交换文件

rm -rf .myyichang.txt.swp
```