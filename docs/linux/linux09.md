---
title: linux的权限相关
date: 2023-05-21
---
<Boxx/>

# Linux的权限

## 1-权限概述

**解释**

1. linux 为什么要有权限目的就是 区分文件可以使用的人
2. 针对不同用户需要不同的可操作
3. qq超级用户 普通用户区别  xx网盘svip  优酷白银 钻石
4. 在 Linux 中  权限 一共 三种  
   1. r   read 读取 4
   2. w  wirte 写入 2
   3. x             执行  1

## 2-权限针对目标

**文件**	

> r 针对文件 就是是否可以读取文件内容  cat less
>
> w 针对文件 写入 修改文件的内容  vim
>
> x 执行文件 在linux shell部分 会用到执行文件  qqq.sh 文件 这种文件就是可以执行的 qq.exe

**文件夹**

> r 针对文件夹 使用 ls 查看文件夹的内容
>
> w 针对文件夹 删除文件夹的内容 增加 （你是会否能删除文件取决于文件的上一级文件夹有没有w权限）
>
> x 针对文件夹 就是是否可以进入文件夹 比如 tom 用户可以进入 /home/tom

## 3-Linux权限身份类别

**身份类别**

```sh
1.用户自己  user   ===> u
2.同的用户  group  ===> g
3.其他人    other  ===> o
```

## 4-权限相关视图

**基本解释**

> ls -lh  可以查看权限视图 

**注意** 下面是解释具体的意思

![1714035222341](/assets/1714035222341.png)

**跟用户相关的权限解释**

> d rwx r-x r-x
>
> ​    u      g    o
>
> 这里面写的分别是 u 用户有 rwx 读写执行权限
>
> g同组的用户拥有 读和执行权限
>
> o 其他的人的权限

**案例解释权限 三类用户的关系**

![1714035676569](/assets/1714035676569.png)

**ls展示的内容第一个位置的意思**

```sh
d rwx
这个第一个d 表示的就是文件类型（文件通过权限标识符号区分）
```

**权限表示符号**

1. ‘d’ 文件夹
2. ‘-’ 表示普通文件
3. ‘l’  表示软连接 相当于win 的快捷方式文件
4. ‘b’ 表示块设备 （光盘  u盘）

## 4-权限的操作（字母方式）

**基本语法**

**选项**

1. ​	-R  这个选项主要针对 文件夹  （递归增加权限）

**注意**

1. 使用 chmod （修改可以增肌可以删除）权限 
2. u g o 这三个字= 表示赋值    +  表示增加   - 表示删除

| 操作                                    | 意思                       |
| --------------------------------------- | -------------------------- |
| chmod  u=rwx,g=rw,..o    文件的名字     | 给文件赋予权限             |
| chmod u-r,g-w,o-r   文件的名字          | 表示给文件删除那个权限     |
| chmod u+r,g+w   文件名字                | 表示给文件增加那个权限     |
| chmod -R   u=rwx,g=rw,..o    文件的名字 | -R主要针对文件夹的权限修改 |

## 5-权限的操作（数字方式）

**基本语法**

1. 4 表示  r  读取
2. 2 表示 w   写入
3. 1 表示 x   执行

**案例**

```sh
4+2+1 = 7 
4+2=6
2+1=3
4+1=5
注意：没有权限 就是数字值 为 0
```

**语法**

```sh
chmod 757 文件名字

注意：第一个 7 表示 user 拥有全部权限  第二个5 group 拥有读取和执行的 第三个7 表示其他人拥有全部权限
```

## 6-文件的权限属于操作

**基本语法**

1. 文件在一开始创建的时候 默认是属于创建者所有（盖房子）
2. 文件也可以改变所属于的主任 包括文件的所属于的组也可以改变

**选项**

1. -R 主要针对文件夹 递归模式

**改变文件的属主**

```sh
chown 新的文件主人 文件
```

**改变文件的属于的组**

```sh
chgrp 新的文件所属组  文件
```

**针对文件夹递归修改**

```sh
chown -R 新的文件主人 文件
chgrp -R 新的文件所属组  文件
```

**同时更改文件主人和文件组**

```sh
chown -R (针对文件夹文件可以不写) 文件的主人:文件的组  文件
```

## 7-ACL权限控制

**基本语法解释**

1. 什么是 ACL 权限控制  ？
   1. 它主要的作用 就是  **精准** 授予 用户 或者组的权限
   2. 可以明确指定目标增加权限
2. 案例 ： A公司入职新员工 小李 小李需要看一个 ceshi.txt文件  r w x 
   1. 把 文件属于者 改成 小李  （不符合实际）
   2. 小李加入到那个组 （可以 但是比较麻烦）
   3. 开放所有人 o other 其他人  （不可以）

**选项**

1. -m  表示修改 文件的acl 权限
   1. u 表示给用户 
   2. g 表示给组
2. -x  表示删除 acl 权限
   1. u 表示去掉用户
   2. g 去掉组
3. -b 去掉文件的所有acl 权限

| 语法                                               | 意思                               |
| -------------------------------------------------- | ---------------------------------- |
| getfacl    文件                                    | 获取 文件 的  相关   ACl  权限信息 |
| setfacl  -m u或者g:用户或者组的名字:rwx   文件名字 | 修改文件的acl权限                  |
| setfacl  -x u或者g:用户或者组的名字    文件名字    | 删除用户或者组的acl权限            |
| setfacl -b 文件名字                                | 删除文件所有acl权限                |
