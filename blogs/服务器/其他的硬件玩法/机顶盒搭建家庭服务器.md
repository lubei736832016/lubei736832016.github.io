---
title: 机顶盒搭建家庭服务器
date: 2019-09-21
tags:
 - server
categories:
 - server
---
<Boxx/>

## 1-准备工具

- 机顶盒不用的(有风险变砖)   型号 cm311-1a yst
- 短接 Min工具
- 开心电视助手
- usb Burning tools 线刷 工具
- 分区助手 diskgenius
- Etcher 烧录工具
- u盘 一个 最好 是3.0高速 32G以上 

## 2-机顶盒root 线刷

- 使用usb Burning tools 线刷 工具 下载 线刷固件 进行线刷 主要目的是 root权限开启 
- 写入 固件 完成后 点击停止 在关闭 刷机工具
- 如果 你的 机器 已经 root 可以直接跳过 这个步骤

## 3-Armbian 系统写入 u盘

- 打开 Etcher 烧录工具  选择 镜像 压缩包 进行烧入  
- 切记 u盘 格式化为 Fat32 文件格式系统
- 写入成功后 把u盘 插入 机器 

## 4-开机调试

- 连接 网线 把 u盘插入 靠近网口的那一端
- 启动 机器  进入 开机画面 
- 打开电视 助手 ===>  找到 机器的 ip 局域网地址 连接 机器 
- 选择 调试 点击 从 u盘 启动 
- 电视 盒子 会从u盘启动 
- 重新启动会 进入 liunx 系统 跑代码 

## 5- 系统直接就在 U盘

- 调试成功以后 如果想让 系统就直接在u盘 这个选择 就需要 给u盘的linux 系统 重新分区
- Etcher 烧入的程序 默认 系统分配 2.5GB 还有 252 MB 的启动设置盘 最后都是 未分配的
- 可以使用 分区助手 把 (kelong) 2.5G =====>到 剩余的 空间 (ext4 格式)  把2.5 G 分配 成 大的GB空间
- 这样 就可以 直接 在u盘 启动了 并且 系统盘 也够大

## 6- 写入 emmc 机顶盒

- armbian-install
- 机型选择 304
- 分区格式ext4 格式 
- 写入完整后 盒子就是一个 内网 服务器

## 7-拨号动态公网  阿里云配置

- 购买 阿里云 dns 云解析  
- 在云解析里 配置 dns 地址 
- 解析  要解析的公网地址 一旦变化 会自动解析完成  一个 联网的服务器  
